{% extends "base.html" %}
{% import "macros.html" as macros %}

{% block title %}{% if talk.title %}Edit "{{ talk.title }}"{% else %}New Talk{% endif %} - {{ super() }}{% endblock %}

{% block morestyles %}
{{ super() }}
<style type="text/css">
  textarea {
    min-height: 15rem;
  }
</style>
{% endblock %}

{% block container %}
<form method="post" class="pb-3">
  <div class="row">
    {% set field = form["title"] %}
    <div class="col-md-8 form-group">
      {{ macros.render_label(field, "Title") }}
      {{ macros.render_field(field, "My Incredible Talk") }}
      {{ macros.render_error(field) }}
    </div>

    {% set field = form["length"] %}
    <div class="col-md-4 form-group">
      {{ macros.render_label(field, "Length") }}
      {{ macros.render_field(field, "") }}
      {{ macros.render_error(field) }}
    </div>
  </div>
  <div class="row">
    {% set field = form["description"] %}
    <div class="col-md-8 form-group">
      {{ macros.render_label(field, "Description") }}
      {{ macros.render_field(field, "Markdown supports **bold**, _italic_, [links](http://www.example.com/), and lots more!") }}
      {{ macros.render_error(field) }}
    </div>
    <div class="col-md-4">
      <label></label>{# for spacing :( #}
      <small id="{{ field.id }}-help" class="form-text text-muted">
        <p>
        Your description should catch attendees' attention, and draw them
        in to your talk. What secrets will you reveal? How will we cringe or
        applaud at the stories you tell? What technique will they learn about
        that they don't yet know they need? Be persuasive and brief, attendees
        will have a lot of talks to read through.
        </p>
        <p>
        The description will be public in the conference program. The first
        paragraph may be excerpted in the talk list. Supports
        <a href="https://daringfireball.net/projects/markdown/syntax">Markdown</a>.
        </p>
      </small>
    </div>
  </div>
  <div class="row">
    {% set field = form["outline"] %}
    <div class="col-md-8 form-group">
      {{ macros.render_label(field, "Outline") }}
      {{ macros.render_field(field, "It's nice to:\n\n* Format bullet points, using Markdown\n* So that\n  * You can write it easily, and\n  * It is nicely formatted for reviewers") }}
      {{ macros.render_error(field) }}
    </div>
    <div class="col-md-4">
      <label></label>{# for spacing :( #}
      <small id="{{ field.id }}-help" class="form-text text-muted">
        <p>
        Your outline should answer the questions you posed in the description.
        It's one thing to tantalize your potential audience, but the voters and
        program committee will want to know more precisely what you plan to talk
        about. A good range for outlines is anywhere from 8 to 20 bullet points
        &mdash; more if your topic is especially subtle, or your talk especially
        deep, less if your description already provides sufficient detail.
        </p>
        <p>
        The outline will be made available to public voters and the program committee,
        but will <strong>not</strong> appear in the conference program. Supports
        <a href="https://daringfireball.net/projects/markdown/syntax">Markdown</a>.
        </p>
      </small>
    </div>
  </div>
  <div class="row">
    {% set field = form["requirements"] %}
    <div class="col-md-8 form-group">
      {{ macros.render_label(field, "Extra Requirements") }}
      {{ macros.render_field(field, "Because I am planning to smash watermelons with a sledge hammer, the conference should provide wet-weather gear to attendees in the first five rows") }}
      {{ macros.render_error(field) }}
    </div>
    <div class="col-md-4">
      <label></label>{# for spacing :( #}
      <small id="{{ field.id }}-help" class="form-text text-muted">
        <p>
        If your talk has any special requirements, please note them here.
        We will provide audio and video connections for all common connectors
        (HDMI, VGA, DVI, Thunderbolt, USB-C, and Mini Display Port; and a
        stereo headphone jack connector) and podium, lavalier, and hand-held
        microphones.
        </p>
        <p>
        This field will not be shown to public voters, but will be available
        to the program committee. If your talk has truly unusual requirements,
        we may not be able to accept it.
        </p>
      </small>
    </div>
  </div>
  <div class="row">
    {% set field = form["accepted_recording_release"] %}
    <style type="text/css">#release input{display: inline-block} #release label{display: block}</style>
    <div class="col-md-8 form-group" id="release">
      {{ macros.render_label(field, "Recording Release") }}
      {{ macros.render_field(field, class_="form-check") }}
      <span class="text-muted">I accept the {{ g.conference.full_name }} <a href="{{ g.conference.recording_release_url }}">recording release</a></span>
      {{ macros.render_error(field) }}
    </div>
    <div class="col-md-4">
      <label></label>{# for spacing :( #}
      <small id="{{ field.id }}-help" class="form-text text-muted">
        <p>
        Please consider accepting the recording release. If you don't or can't,
        we won't be able to post video of your talk to YouTube and
        <a href="https://pyvideo.org/">PyVideo.org</a> after the conference.
        </p>
        <p>
        You will be able to edit this field at any time, including after the
        conference itself.
        </p>
      </small>
    </div>
  </div>
  <div class="row">
    <div class="col-md-auto">
      <button type="submit" class="btn btn-primary">Save &amp; Preview</button>
    </div>
    <div class="col-md-6">
      <small id="{{ field.id }}-help" class="form-text text-muted" style="margin-top:0">
        On the next page, you'll have a chance to see what your rendered proposal
        will look like to the voters and program committee. You can edit your talk
        until voting begins.
      </small>
    </div>
  </div>
  {{ form["csrf_token"] }}
</form>
{% endblock %}
